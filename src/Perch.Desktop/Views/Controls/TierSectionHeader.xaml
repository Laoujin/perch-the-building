<UserControl
    x:Class="Perch.Desktop.Views.Controls.TierSectionHeader"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Margin="0,16,0,8">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <TextBlock
            Grid.Column="0"
            Text="{Binding Title, RelativeSource={RelativeSource AncestorType=UserControl}}"
            FontSize="16"
            FontWeight="SemiBold"
            Foreground="White"
            VerticalAlignment="Center" />

        <Border
            Grid.Column="1"
            Background="#2A2A3E"
            CornerRadius="10"
            Padding="8,2"
            Margin="8,0,0,0"
            VerticalAlignment="Center"
            Visibility="{Binding ItemCount, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource CountToVisibilityConverter}}">
            <TextBlock
                Text="{Binding ItemCount, RelativeSource={RelativeSource AncestorType=UserControl}}"
                FontSize="11"
                Foreground="#888888" />
        </Border>

        <Button
            Grid.Column="3"
            x:Name="CollapseToggle"
            Background="Transparent"
            BorderThickness="0"
            Click="OnCollapseToggle"
            Padding="4"
            VerticalAlignment="Center">
            <ui:SymbolIcon Symbol="ChevronDown24" FontSize="12" />
        </Button>
    </Grid>
</UserControl>
