<UserControl
    x:Class="Perch.Desktop.Views.Controls.DriftHeroBanner"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml">
    <Border
        Background="#16162A"
        CornerRadius="12"
        Padding="24,20"
        Margin="0,0,0,20">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Left: Text content -->
            <StackPanel Grid.Column="0" VerticalAlignment="Center">
                <TextBlock
                    Text="{Binding StatusMessage, RelativeSource={RelativeSource AncestorType=UserControl}}"
                    FontSize="20"
                    FontWeight="SemiBold"
                    Foreground="White"
                    Margin="0,0,0,12" />

                <!-- Status counts -->
                <StackPanel Orientation="Horizontal">
                    <!-- Linked count -->
                    <Border Background="#2634D399" CornerRadius="6" Padding="10,6" Margin="0,0,8,0">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="CheckmarkCircle24" FontSize="14" Foreground="#34D399" />
                            <TextBlock Margin="6,0,0,0" VerticalAlignment="Center">
                                <Run
                                    Text="{Binding LinkedCount, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                    Foreground="#34D399"
                                    FontWeight="SemiBold" />
                                <Run Text=" linked" Foreground="#888888" />
                            </TextBlock>
                        </StackPanel>
                    </Border>

                    <!-- Attention count -->
                    <Border
                        Background="#26F59E0B"
                        CornerRadius="6"
                        Padding="10,6"
                        Margin="0,0,8,0"
                        Visibility="{Binding AttentionCount, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource CountToVisibilityConverter}}">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="Warning24" FontSize="14" Foreground="#F59E0B" />
                            <TextBlock Margin="6,0,0,0" VerticalAlignment="Center">
                                <Run
                                    Text="{Binding AttentionCount, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                    Foreground="#F59E0B"
                                    FontWeight="SemiBold" />
                                <Run Text=" attention" Foreground="#888888" />
                            </TextBlock>
                        </StackPanel>
                    </Border>

                    <!-- Broken count -->
                    <Border
                        Background="#26EF4444"
                        CornerRadius="6"
                        Padding="10,6"
                        Visibility="{Binding BrokenCount, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource CountToVisibilityConverter}}">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="DismissCircle24" FontSize="14" Foreground="#EF4444" />
                            <TextBlock Margin="6,0,0,0" VerticalAlignment="Center">
                                <Run
                                    Text="{Binding BrokenCount, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                    Foreground="#EF4444"
                                    FontWeight="SemiBold" />
                                <Run Text=" broken" Foreground="#888888" />
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </StackPanel>

            <!-- Right: Health percentage -->
            <Border
                Grid.Column="1"
                VerticalAlignment="Center"
                Margin="20,0,0,0"
                Background="#1A1A2E"
                CornerRadius="40"
                Width="80"
                Height="80">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock
                        Text="{Binding HealthPercent, RelativeSource={RelativeSource AncestorType=UserControl}, StringFormat={}{0}%}"
                        FontSize="20"
                        FontWeight="SemiBold"
                        Foreground="#10B981"
                        HorizontalAlignment="Center" />
                    <TextBlock
                        Text="healthy"
                        FontSize="10"
                        Foreground="#888888"
                        HorizontalAlignment="Center" />
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</UserControl>
